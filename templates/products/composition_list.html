{% extends 'admin_base.html' %}
{% block body_block %}
{% load static %}
<style>
  td:nth-child(3) { /* Target Composition Name column */
    word-wrap: break-word;
    white-space: normal;
    max-width: 250px; /* Adjust as needed */
    overflow-wrap: break-word;
  }
</style>

<!-- FontAwesome for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

<div class="container mt-4">
  <!-- Title -->
  <div class="row">
    <div class="col-12">
      <h2 class="text-primary text-center mb-4">Composition List</h2>
    </div>
  </div>

  <!-- Buttons: One on the left, one on the right -->
  <div class="d-flex justify-content-between align-items-center mb-3 flex-wrap">
    <a href="{% url 'upload_compositions' %}" class="btn btn-primary mb-2">
      <i class="fa fa-upload"></i> Upload 
    </a>

    <a href="{% url 'composition_create' %}" class="btn btn-success mb-2">
      <i class="fa fa-plus"></i> Create
    </a>
  </div>

  <!-- Table -->
  <div class="table-responsive">
    <table class="table table-striped table-bordered text-center align-middle" id="tableID" class="table">
      <thead class="thead-dark">
        <tr>
          <th class="bg-primary text-white">S.No</th>
          <th class="bg-primary text-white">Product Name</th>
          <th class="bg-primary text-white">Composition Name</th>
          <th class="bg-primary text-white">Product Type</th>
          <th class="bg-primary text-white">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for composition in compositions %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ composition.product_name }}</td>
          <td class="text-wrap">{{ composition.composition_name }}</td>
          <td>{{ composition.product_type }}</td>
          <td>
            <a href="{% url 'composition_update' composition.id %}" class="btn btn-sm btn-primary me-1 mb-1">
              <i class="fa fa-edit"></i> Edit
            </a>
            <a href="{% url 'composition_delete' composition.id %}" class="btn btn-sm btn-danger mb-1">
              <i class="fa fa-trash"></i> Delete
            </a>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="5" class="text-center">No compositions found.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>



{% endblock %}
